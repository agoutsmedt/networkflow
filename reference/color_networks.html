<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Color Nodes and Edges of Networks or Alluvial — color_networks • networkflow</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Color Nodes and Edges of Networks or Alluvial — color_networks"><meta name="description" content="
color_networks() takes as input a tibble graph (from tidygraph)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in columnr_to_color (most likely a cluster column).
color_alluvial() takes a data.frame and associates a color to each value of the chosen
categorical variable in column_to_color. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
networks_to_alluv().
You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details)."><meta property="og:description" content="
color_networks() takes as input a tibble graph (from tidygraph)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in columnr_to_color (most likely a cluster column).
color_alluvial() takes a data.frame and associates a color to each value of the chosen
categorical variable in column_to_color. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
networks_to_alluv().
You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">networkflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/exploring_dynamic_networks.html">Exploring dynamic networks</a></li>
    <li><a class="dropdown-item" href="../articles/workflow-network.html">A Workflow for network analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/agoutsmedt/networkflow/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Color Nodes and Edges of Networks or Alluvial</h1>
      <small class="dont-index">Source: <a href="https://github.com/agoutsmedt/networkflow/blob/master/R/color_networks.R" class="external-link"><code>R/color_networks.R</code></a></small>
      <div class="d-none name"><code>color_networks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p><code>color_networks()</code> takes as input a tibble graph (from <a href="https://tidygraph.data-imaginist.com/" class="external-link">tidygraph</a>)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in <code>columnr_to_color</code> (most likely a cluster column).</p>
<p><code>color_alluvial()</code> takes a data.frame and associates a color to each value of the chosen
categorical variable in <code>column_to_color</code>. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
<a href="networks_to_alluv.html">networks_to_alluv()</a>.</p>
<p>You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">color_networks</span><span class="op">(</span></span>
<span>  <span class="va">graphs</span>,</span>
<span>  <span class="va">column_to_color</span>,</span>
<span>  color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unique_color_across_list <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">color_alluvial</span><span class="op">(</span><span class="va">alluv_dt</span>, <span class="va">column_to_color</span>, color <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graphs">graphs<a class="anchor" aria-label="anchor" href="#arg-graphs"></a></dt>
<dd><p>A tibble graph from <a href="https://tidygraph.data-imaginist.com/" class="external-link">tidygraph</a> or a list of tibble
graphs.</p></dd>


<dt id="arg-column-to-color">column_to_color<a class="anchor" aria-label="anchor" href="#arg-column-to-color"></a></dt>
<dd><p>The column of the categorical variable to use to color nodes and edges. For instance,
the <code>cluster_{clustering_method}</code> created with <a href="add_clusters.html">add_clusters()</a>
or the <code>dynamic_cluster_{clustering_method}</code> created with
<a href="merge_dynamic_clusters.html">merge_dynamic_clusters()</a>.</p></dd>


<dt id="arg-color">color<a class="anchor" aria-label="anchor" href="#arg-color"></a></dt>
<dd><p>The colors to use. It may be a vector of colors (in a character format)
or a two columns data.frame with the first column as
the distinct observations of the <code>column_to_color</code> and a second column with the
vector of colors you want to use.</p></dd>


<dt id="arg-unique-color-across-list">unique_color_across_list<a class="anchor" aria-label="anchor" href="#arg-unique-color-across-list"></a></dt>
<dd><p>If set to <code>TRUE</code>, in a list of tibble graphs, the same categorical variable will
be considered as a different variable in different graphs and thus receive a different
color. In other words, if set to <code>TRUE</code> cluster "01" in two different graphs will
have two different colors. If set to <code>FALSE</code> (by default), cluster "01" will have
the same color in every graphs it exists.</p></dd>


<dt id="arg-alluv-dt">alluv_dt<a class="anchor" aria-label="anchor" href="#arg-alluv-dt"></a></dt>
<dd><p>A data.frame of an alluvial created with <a href="networks_to_alluv.html">networks_to_alluv()</a></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The same tibble graph or list of tibble graphs as input, but with a new <code>color</code>
column for both nodes and edges.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The best practice is to provide a list of colors equals to the number of categorical
variable to color. If you provide more colors, excess colors will not be used. If you
provide less colors, colors will be recycled. If you provide no colors, <code><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette.colors()</a></code>
of base R will be used: the 7 colors of <code>ggplot2</code> palette will be used (black is excluded) and
then the 7 colors of <code>Okabe-Ito</code> palette (black and gray are excluded). Above 14 colors,
the colors of the two palettes will be recycled.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/agoutsmedt/networkflow" class="external-link">networkflow</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nodes</span> <span class="op">&lt;-</span> <span class="va">Nodes_stagflation</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>ID_Art <span class="op">=</span> <span class="va">ItemID_Ref</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"Stagflation"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">references</span> <span class="op">&lt;-</span> <span class="va">Ref_stagflation</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>ID_Art <span class="op">=</span> <span class="va">Citing_ItemID_Ref</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu"><a href="build_dynamic_networks.html">build_dynamic_networks</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">nodes</span>,</span></span>
<span class="r-in"><span>directed_edges <span class="op">=</span> <span class="va">references</span>,</span></span>
<span class="r-in"><span>source_id <span class="op">=</span> <span class="st">"ID_Art"</span>,</span></span>
<span class="r-in"><span>target_id <span class="op">=</span> <span class="st">"ItemID_Ref"</span>,</span></span>
<span class="r-in"><span>time_variable <span class="op">=</span> <span class="st">"Year"</span>,</span></span>
<span class="r-in"><span>cooccurrence_method <span class="op">=</span> <span class="st">"coupling_similarity"</span>,</span></span>
<span class="r-in"><span>time_window <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>edges_threshold <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>overlapping_window <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>filter_components <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_clusters.html">add_clusters</a></span><span class="op">(</span><span class="va">temporal_networks</span>,</span></span>
<span class="r-in"><span>objective_function <span class="op">=</span> <span class="st">"modularity"</span>,</span></span>
<span class="r-in"><span>clustering_method <span class="op">=</span> <span class="st">"leiden"</span>,</span></span>
<span class="r-in"><span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu">color_networks</span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">temporal_networks</span>,</span></span>
<span class="r-in"><span>column_to_color <span class="op">=</span> <span class="st">"cluster_leiden"</span>,</span></span>
<span class="r-in"><span>color <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="font-style: italic;">unique_color_across_list</span> has been set to <span style="color: #0000BB;">FALSE</span>. There are <span style="color: #0000BB;">7</span> different categories to color.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #00BB00;">color</span> is neither a vector of color characters, nor a data.frame. We will proceed with base R colors.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> We draw <span style="color: #0000BB;">7</span> colors from the <span style="font-style: italic;">ggplot2</span> palette.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tbl_graph: 74 nodes and 446 edges</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># An undirected simple graph with 1 component</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Edge Data: 446 × 9 (active)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     from    to   weight Source  Target     cluster_leiden_from cluster_leiden_to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>     6    11 0.001<span style="text-decoration: underline;">58</span>  1021902 1111111122 02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>     6    45 0.000<span style="text-decoration: underline;">173</span> 1021902 1111111128 02                  03               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>     6    66 0.000<span style="text-decoration: underline;">430</span> 1021902 1111111134 02                  03               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>     6    35 0.000<span style="text-decoration: underline;">644</span> 1021902 1111111146 02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>     6    20 0.000<span style="text-decoration: underline;">126</span> 1021902 1111111180 02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>     6    42 0.000<span style="text-decoration: underline;">614</span> 1021902 1111111182 02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>     6    21 0.000<span style="text-decoration: underline;">343</span> 1021902 1111111183 02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>     6    53 0.000<span style="text-decoration: underline;">259</span> 1021902 1184127    02                  03               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>     6    31 0.001<span style="text-decoration: underline;">21</span>  1021902 14490177   02                  02               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>     6    65 0.000<span style="text-decoration: underline;">274</span> 1021902 16167977   02                  03               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 436 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: cluster_leiden &lt;chr&gt;, color &lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Node Data: 74 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID_Art Author  Year Author_date Title Journal Type  time_window cluster_leiden</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 16182… GORDO…  <span style="text-decoration: underline;">1</span>975 GORDON-R-1… ALTE… BROOKI… Stag… 1975-1994   01            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 26283… GORDO…  <span style="text-decoration: underline;">1</span>975 GORDON-R-1… THE … BROOKI… Stag… 1975-1994   01            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 16182… OKUN-A  <span style="text-decoration: underline;">1</span>975 OKUN-A-197… INFL… BROOKI… Stag… 1975-1994   02            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 71 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: size_cluster_leiden &lt;dbl&gt;, color &lt;chr&gt;</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Aurélien Goutsmedt, Alexandre Truc.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

