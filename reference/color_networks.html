<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
color_networks() takes as input a tibble graph (from tidygraph)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in columnr_to_color (most likely a cluster column).
color_alluvial() takes a data.frame and associates a color to each value of the chosen
categorical variable in column_to_color. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
networks_to_alluv().
You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details)."><title>Color Nodes and Edges of Networks or Alluvial — color_networks • networkflow</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Color Nodes and Edges of Networks or Alluvial — color_networks"><meta property="og:description" content="
color_networks() takes as input a tibble graph (from tidygraph)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in columnr_to_color (most likely a cluster column).
color_alluvial() takes a data.frame and associates a color to each value of the chosen
categorical variable in column_to_color. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
networks_to_alluv().
You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">networkflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/exploring_dynamic_networks.html">Exploring dynamic networks</a>
    <a class="dropdown-item" href="../articles/workflow-network.html">A Workflow for network analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/agoutsmedt/networkflow/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Color Nodes and Edges of Networks or Alluvial</h1>
      <small class="dont-index">Source: <a href="https://github.com/agoutsmedt/networkflow/blob/HEAD/R/color_networks.R" class="external-link"><code>R/color_networks.R</code></a></small>
      <div class="d-none name"><code>color_networks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p><code>color_networks()</code> takes as input a tibble graph (from <a href="https://tidygraph.data-imaginist.com/" class="external-link">tidygraph</a>)
or a list of tibble graphs and associates a color for each graphs' edges and nodes,
depending on a chosen categorical variable in <code>columnr_to_color</code> (most likely a cluster column).</p>
<p><code>color_alluvial()</code> takes a data.frame and associates a color to each value of the chosen
categorical variable in <code>column_to_color</code>. This function may be used with any data.frame
even if it aims at coloring alluvial data frame created with
<a href="networks_to_alluv.html">networks_to_alluv()</a>.</p>
<p>You may either provide the color palette,
provide a data frame associating the different values of the categorical variable with
colors, or let the function provide colors (see details).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">color_networks</span><span class="op">(</span></span>
<span>  <span class="va">graphs</span>,</span>
<span>  <span class="va">column_to_color</span>,</span>
<span>  color <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unique_color_across_list <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">color_alluvial</span><span class="op">(</span><span class="va">alluv_dt</span>, <span class="va">column_to_color</span>, color <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graphs</dt>
<dd><p>A tibble graph from <a href="https://tidygraph.data-imaginist.com/" class="external-link">tidygraph</a> or a list of tibble
graphs.</p></dd>


<dt>column_to_color</dt>
<dd><p>The column of the categorical variable to use to color nodes and edges. For instance,
the <code>cluster_{clustering_method}</code> created with <a href="add_clusters.html">add_clusters()</a>
or the <code>dynamic_cluster_{clustering_method}</code> created with
<a href="merge_dynamic_clusters.html">merge_dynamic_clusters()</a>.</p></dd>


<dt>color</dt>
<dd><p>The colors to use. It may be a vector of colors (in a character format)
or a two columns data.frame with the first column as
the distinct observations of the <code>column_to_color</code> and a second column with the
vector of colors you want to use.</p></dd>


<dt>unique_color_across_list</dt>
<dd><p>If set to <code>TRUE</code>, in a list of tibble graphs, the same categorical variable will
be considered as a different variable in different graphs and thus receive a different
color. In other words, if set to <code>TRUE</code> cluster "01" in two different graphs will
have two different colors. If set to <code>FALSE</code> (by default), cluster "01" will have
the same color in every graphs it exists.</p></dd>


<dt>alluv_dt</dt>
<dd><p>A data.frame of an alluvial created with <a href="networks_to_alluv.html">networks_to_alluv()</a></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The same tibble graph or list of tibble graphs as input, but with a new <code>color</code></p>


<p>column for both nodes and edges.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The best practice is to provide a list of colors equals to the number of categorical
variable to color. If you provide more colors, excess colors will not be used. If you
provide less colors, colors will be recycled. If you provide no colors, <code><a href="https://rdrr.io/r/grDevices/palette.html" class="external-link">palette.colors()</a></code>
of base R will be used: the 7 colors of <code>ggplot2</code> palette will be used (black is excluded) and
then the 7 colors of <code>Okabe-Ito</code> palette (black and gray are excluded). Above 14 colors,
the colors of the two palettes will be recycled.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/agoutsmedt/networkflow" class="external-link">networkflow</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">nodes</span> <span class="op">&lt;-</span> <span class="va">Nodes_stagflation</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>ID_Art <span class="op">=</span> <span class="va">ItemID_Ref</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">==</span> <span class="st">"Stagflation"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">references</span> <span class="op">&lt;-</span> <span class="va">Ref_stagflation</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>ID_Art <span class="op">=</span> <span class="va">Citing_ItemID_Ref</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu"><a href="build_dynamic_networks.html">build_dynamic_networks</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="va">nodes</span>,</span></span>
<span class="r-in"><span>directed_edges <span class="op">=</span> <span class="va">references</span>,</span></span>
<span class="r-in"><span>source_id <span class="op">=</span> <span class="st">"ID_Art"</span>,</span></span>
<span class="r-in"><span>target_id <span class="op">=</span> <span class="st">"ItemID_Ref"</span>,</span></span>
<span class="r-in"><span>time_variable <span class="op">=</span> <span class="st">"Year"</span>,</span></span>
<span class="r-in"><span>cooccurrence_method <span class="op">=</span> <span class="st">"coupling_similarity"</span>,</span></span>
<span class="r-in"><span>time_window <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>edges_threshold <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>overlapping_window <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>filter_components <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu"><a href="add_clusters.html">add_clusters</a></span><span class="op">(</span><span class="va">temporal_networks</span>,</span></span>
<span class="r-in"><span>objective_function <span class="op">=</span> <span class="st">"modularity"</span>,</span></span>
<span class="r-in"><span>clustering_method <span class="op">=</span> <span class="st">"leiden"</span>,</span></span>
<span class="r-in"><span>verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span> <span class="op">&lt;-</span> <span class="fu">color_networks</span><span class="op">(</span>graphs <span class="op">=</span> <span class="va">temporal_networks</span>,</span></span>
<span class="r-in"><span>column_to_color <span class="op">=</span> <span class="st">"cluster_leiden"</span>,</span></span>
<span class="r-in"><span>color <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="font-style: italic;">unique_color_across_list</span> has been set to <span style="color: #0000BB;">FALSE</span>. There are <span style="color: #0000BB;">7</span> different categories to color.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> <span style="color: #00BB00;">color</span> is neither a vector of color characters, nor a data.frame. We will proceed with base R colors.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> We draw <span style="color: #0000BB;">7</span> colors from the <span style="font-style: italic;">ggplot2</span> palette.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">temporal_networks</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tbl_graph: 74 nodes and 446 edges</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># An undirected simple graph with 1 component</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Edge Data: 446 × 9 (active)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    from    to   weight Source  Target     cluster_le… cluster_l… cluster… color </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     6    11 0.001<span style="text-decoration: underline;">58</span>  1021902 1111111122 02          02         02       #00BA…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     6    45 0.000<span style="text-decoration: underline;">173</span> 1021902 1111111128 02          03         00       #7C98…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     6    66 0.000<span style="text-decoration: underline;">430</span> 1021902 1111111134 02          03         00       #7C98…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     6    35 0.000<span style="text-decoration: underline;">644</span> 1021902 1111111146 02          02         02       #00BA…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     6    20 0.000<span style="text-decoration: underline;">126</span> 1021902 1111111180 02          02         02       #00BA…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     6    42 0.000<span style="text-decoration: underline;">614</span> 1021902 1111111182 02          02         02       #00BA…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 440 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Node Data: 74 × 11</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID_Art  Author  Year Author… Title Journal Type  time_w… cluste… size_c… color</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 161821… GORDO…  <span style="text-decoration: underline;">1</span>975 GORDON… ALTE… BROOKI… Stag… 1975-1… 01        0.203 #619…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 262835… GORDO…  <span style="text-decoration: underline;">1</span>975 GORDON… THE … BROOKI… Stag… 1975-1… 01        0.203 #619…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 161822… OKUN-A  <span style="text-decoration: underline;">1</span>975 OKUN-A… INFL… BROOKI… Stag… 1975-1… 02        0.297 #00B…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 71 more rows</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Aurélien Goutsmedt, Alexandre Truc.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

