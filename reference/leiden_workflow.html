<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="
This function has been superseded by the more general networkflow::add_clusters().
This function takes as input a tidygraph graph It then runs the Leiden detection community algorithm
(Traag et al. 2019)
 which creates a partition. The Leiden_workflow functhion uses
find_partition() from the leidenAlg
package. The function then associates each node to its
corresponding community number. It also creates a community attribute for edges: to each edge is associated
a corresponding community number, if the two nodes connected by the edge belong to the same community. If nodes have
a different community, the edge takes as attribute the total number of communities plus 1."><title>Add Leiden Communities to graph — leiden_workflow • networkflow</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add Leiden Communities to graph — leiden_workflow"><meta property="og:description" content="
This function has been superseded by the more general networkflow::add_clusters().
This function takes as input a tidygraph graph It then runs the Leiden detection community algorithm
(Traag et al. 2019)
 which creates a partition. The Leiden_workflow functhion uses
find_partition() from the leidenAlg
package. The function then associates each node to its
corresponding community number. It also creates a community attribute for edges: to each edge is associated
a corresponding community number, if the two nodes connected by the edge belong to the same community. If nodes have
a different community, the edge takes as attribute the total number of communities plus 1."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">networkflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/exploring_dynamic_networks.html">Exploring dynamic networks</a>
    <a class="dropdown-item" href="../articles/workflow-network.html">A Workflow for network analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/agoutsmedt/networkflow/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Add Leiden Communities to graph</h1>
      <small class="dont-index">Source: <a href="https://github.com/agoutsmedt/networkflow/blob/HEAD/R/leiden_workflow.R" class="external-link"><code>R/leiden_workflow.R</code></a></small>
      <div class="d-none name"><code>leiden_workflow.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a></p>
<p>This function has been superseded by the more general <code><a href="add_clusters.html">networkflow::add_clusters()</a></code>.
This function takes as input a tidygraph graph It then runs the Leiden detection community algorithm
(Traag et al. 2019)
 which creates a partition. The <code>Leiden_workflow</code> functhion uses
<a href="https://rdrr.io/pkg/leidenAlg/man/find_partition.html" class="external-link">find_partition()</a> from the <a href="https://cran.r-project.org/web/packages/leidenAlg/index.html" class="external-link">leidenAlg</a>
package. The function then associates each node to its
corresponding community number. It also creates a community attribute for edges: to each edge is associated
a corresponding community number, if the two nodes connected by the edge belong to the same community. If nodes have
a different community, the edge takes as attribute the total number of communities plus 1.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">leiden_workflow</span><span class="op">(</span><span class="va">graph</span>, res_1 <span class="op">=</span> <span class="fl">1</span>, res_2 <span class="op">=</span> <span class="cn">NULL</span>, res_3 <span class="op">=</span> <span class="cn">NULL</span>, niter <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graph</dt>
<dd><p>A tidygraph object with a "weight" column for edges.</p></dd>


<dt>res_1</dt>
<dd><p>The first resolution used for running the Leiden algorithm. 1 by default.</p></dd>


<dt>res_2</dt>
<dd><p>The second resolution used for running the Leiden algorithm a second time.
It adds a second community attribute to nodes and edges. By default, res_2 is null and
the function just run the Leiden algorithm once (with a resolution equals to res_1).</p></dd>


<dt>res_3</dt>
<dd><p>The third resolution used for running the Leiden algorithm a third time.</p></dd>


<dt>niter</dt>
<dd><p>Number of iterations to run the Leiden algorithm, in order to optimise
the resulting partition. By default, <code>niter</code> equals 500 which warrants a quasi-optimal
partitionning. Decrease n_iterations for exploratory work, in order to decrease computation
time.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The same tidygraph graph as input, but with a new (or three) community number attribute(s) for each node and
each edge.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function could be run for 1, 2 or 3 different resolution values of the Leiden algorithm. It allows the
user to compare different communities partitions. A low resolution means fewer communities. For instance, if
the second resolution is smaller than the first one, we can observe how decreasing the resolution led some communities to disappear
and to be merged with other communities. Sankey diagrams enable interesting analysis of the different partitions.</p>
<p>The function also automatically calculates the percentage of total nodes that are gathered in each
community, in the column <code>Size_com</code>. This calculation is only done for <code>Com_ID</code>, that is for the resolution equals to
1.</p>
<p>To make plotting easier later, a zero is put before each one-digit community number (community 5 becomes 05).</p>
<p>The community attribute of nodes and edges for the first resolution is called <code>Com_ID</code>.
For the second and third resolution, it is called respectively <code>Com_ID_2</code> and <code>Com_ID_3</code>.</p>
<p>Attributing a community number to edges enable to give edges the same color of the nodes
they are connecting, if the two nodes have the same color, or a different color than any node, if
the nodes belong to a different community.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Traag VA, Waltman L, family=Eck gJpu (2019).
“From Louvain to Leiden: Guaranteeing Well-Connected Communities.”
<em>Scientific reports</em>, <b>9</b>(1), 1--12.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Aurélien Goutsmedt, Alexandre Truc.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

